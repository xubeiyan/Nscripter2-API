NScr.exeからは以下の関数をエクスポートしています。
これらを、サンプルにあるような形でプラグイン側から取得して使ってください。

void RenderSprite (int sp,int cell,int x,int y,int a);
//この関数はレイヤプラグイン専用です。
//スプライトにロードしておいた画像を任意の位置に転送できます。
//あらかじめlsphで画面外に読んでおくといいでしょう。
//転送した順に下から重なっていく形になりますから注意してください。
//抜き色やα値、セルの指定ができます。アニメはしません。
//普通に転送するだけならこの関数を使ったほうがバイト列を直接扱うより簡単です。

BOOL NScrDoEvents (void);
//exec_dllで呼ばれる汎用プラグインか、エフェクト99で呼ばれるエフェクトプラグインで使います。
//NScr側のメッセージ処理関数。時々これを呼ばないとNScr側のメッセージが処理されません。
//ウィンドウが閉じられた時はTRUEを返すので、そこで関数を終了してreturnしてください。

void GetSpriteData (int sp,int *width,int *height,int *cellmax);
//スプライトの幅、高さ、セル数を返します。

void NScrGetWindowSize (int *width,int *height);
//NScripterの画面の幅と高さを返します。

//-----------------------------------------------------------------------
//DIB管理関数。ＢＭＰファイルはこれで管理してください。
//-----------------------------------------------------------------------
struct DIBDATA {
	int width;
	int height;
	int color;//色数。0はフルカラー、256は256色
	unsigned char *bits;//ビットマップへのポインタ
};
//AllocDIB/FreeDIBで使われる構造体。
//直接ビットマップを操作したいときに使う。

void AllocDIB (DIBDATA *dib,char *filename);
//NScrの機能でBMPをロード。NSAからも読み出せます。
//失敗するとdibがゼロクリアされます。bits==NULLで判断すればいいでしょう。

void FreeDIB (DIBDATA *dib);
//AllocDIBで確保したデータは必ずFreeDIBで解放すること
//-----------------------------------------------------------------------

HWND NScrGetWindow (void);
//NScripterのウィンドウハンドルを返します。
//HDCが必要な場合はここからGetDCしてください。

void DrawClear (void);
//命令DrawClearと同じです。

void DrawFill (int r,int g,int b);
//命令DrawFillと同じです。

void DrawBG  (void);
//命令drawbgと同じです。

void DrawBG2 (int x,int y,int xscale,int yscale,int rot);
//命令drawbg2と同じです。

void DrawSP  (int spnum,int cellnum,int alpha,int x,int y);
//命令drawspと同じです。RenderSpriteと引数の順番が違うので注意してください。

void DrawSP2 (int spnum,int cellnum,int alpha,int x,int y,int xscale,int yscale,int rot);
//命令drawsp2と同じです。

BOOL NSAGetFile (char *filename,char *nsaname,unsigned int *ptr,unsigned int *size);
//NSAアーカイブからファイルを検索します。NSAファイル名と先頭からの位置、そしてファイルサイズを返します。
//見つからなかった場合FALSE、見つかった場合TRUEを返します。
//BMPを読む場合はAllocDIBのほうを使ってください。この命令では圧縮されたままのイメージを取得してしまいます。

HDC NScrGetDestDC (void);
//オフスクリーンバッファのＨＤＣを得ます

HDC NScrGetSrcDC (void);
//ロードはされたけれどまだ表示されていない、つまりprint命令実行前のＨＤＣを得ます。
//ただし、実際には必要になったときに内容が更新されるので、プラグインから使う場合は、その都度次のNScrUpdateSrcDC関数を呼び出す必要があります。

void NScrUpdateSrcDC (void);
//SrcDCを最新の状態に更新します。

void BltSpriteTo (HDC dc,int spnum);
//スプライト画像を指定したデバイスコンテキストにコピーします。マスク部分も含めてそのままコピーするだけです。位置は左上固定です。

void BltBGTo (HDC dc);
//ＢＧ画面を指定したデバイスコンテキストにコピーします。

void NScrRefreshWindow(void);
//NScripterの画面を更新します。

void NScrGetFontType(char *str , int *id);
//フォント名とＩＤを取得します。


