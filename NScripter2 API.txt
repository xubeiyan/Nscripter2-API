＜エラ`C能＞
■ERROR
引数：ERROR str
例：
ERROR "ファイルがありません"
C能：
エラ`メッセ`ジを表示してK了します。

＜xk肢C能＞
■SELECT
引数：SELECT text1,lb1,text2,lb2,...
例：
select "xk肢1",@lb1,"xk肢2",@lb2
xk肢命令です。BASICのラベル@selectbをコ`ルします。
@selectbではK了rにreturn @lb1 などをg行して、り先をwび先ラベルに浃à皮ださい。

＜スプライトC能＞
ＡＤＶを作るときにはこの命令を主に使うことになります。
テクスチャ命令や形状描画命令を内部的に使っていますので、同rに使えません。
なお、立ち}や背景や日付、テキスト文字列、テキストウィンドウなども「スプライト」ですが、
これらは固定命令としては用意されておらず、BASICソ`スでMむことになります（サンプルを参照してください）。
これは、ゲ`ムによって大きく仕がなることが多いからです。

なお、スプライトの描画状Bを涓しても画面にすぐには反映されません。
PRINT命令によってトランジションを指定し、描画を反映させる必要があります。
このxは旧NScripterの仕を踏uしています。

スプライト名は次のように述されます。
"set:spname"
setname=スプライトセット名、spname=スプライト名
スプライトセットがフォルダでスプライトがeファイルのようなものです。
スプライトセットはボタンI理のHのI理のg位になったり、スプライトセット自体のＺや、表示非表示切り替えがあります。
スプライトセット名を省略すると、スプライトセット名""としてQわれます。このスプライトセットはＺが10000にO定されています。

■SPSET
引数：SPSET name,z
例：
SPSET "setname",10
C能：
空のスプライトセットを作成します。同名のセットが既にある龊稀⒆鞒嗓扦ません。
Ｚは「スプライトセットのＺ」です。スプライトのＺとはeQいですので注意してください。
スプライトは、まず所属するスプライトセットのＺでソ`トされた後、スプライトセットの中で々のスプライトのＺでソ`トされます。

■SPSETVISIBLE
引数：SPSETVISIBLE name,v
例：
SPSETVISIBLE "setname",1
C能：
スプライトセットの表示／非表示を切り替えます。1で表示、0で非表示です。
スプライトが表示であっても、所属するスプライトセット名を非表示にすればまとめて非表示になります。
スプライトが非表示である龊悉稀⑺属するスプライトセットが表示でも表示されません。

■SPSETCLEAR
引数：SPSETCLER name
C能：
スプライトセットに所属するスプライトを全部削除します。スプライトセット自体は消えません。

■SPSETDELETE
引数：SPSETDELETE name
C能：
スプライトセットを削除します。

■SPSETZ
引数：SPSETZ name,z
C能：
スプライトセットのＺを涓します。

■SP
引数：SP name,opt
例：
SP "sp1",{name="test.png",x=100,y=100,z=100}
SP "set:sp2",{name={"cell1.png","cell2.png"},x=200,y=200,z=100,cell=0,blend=1} ; blendは0または省略で通常、1で加算ブレンド
SP "set:sp2",{name={"cell1.png","cell2.png"},cx=300,cy=300,xs=1.2,ys=1.2,rot=45,z=100,cell=0} ; 角度はディグリ`（度）g位です。ラジアンではありません。
SP "set:sp3",{name={"cell1.png","cell2.png","cell3.png"},x=200,y=200,z=100,animtime=100,animtype="normal"}
※オプション指定は必要がない龊悉鲜÷预扦ます。必要なをO定してください。
※NScripterと`い、}数セル画像は全てのセルの画像をばらばらに指定します。画像としてはBYしません。
※アニメ`ションタイプは、
"normal"もしくは指定なしもしくは""が0→1→2→3→0→1→2→3→0→1...
"stop"が0→1→2→3（ここで止まる）
"round"が0→1→2→3→2→1→0→1→2→3→... です。
"lua"は、animfuncに指定してあるLuav数を呼び出します。Luaがわかる人向け。はbasic.sprite_animation_checkを参照してください。

C能：
スプライトを作成します。同名のスプライトがある龊稀それは削除されます。

■SPDELETE
引数：SPDELETE name
例：
SPDELETE "set:sp1"
C能：
スプライトを削除します。

■SPDELETES
引数：SPDELETES head
例：
SPDELETES "set:btn"
C能：
先^部分に指定文字列を持つスプライトをまとめて消します。
例えば上の例では"set:btn0""set:btn1"..."set:btn99"などが存在すれば全部まとめて消えます。
消したくないものをきzんで消さないように荬颏膜堡皮ださい。

■GETSPINFO
引数：GETSPINFO name,info
例：
GETSPINFO "sp1",%info
C能：
スプライトの情螭蛉〉盲筏蓼埂Ｉ悉卫だと、スプライト「sp1」の情螭次のようにってきます。
（通常指定の龊希
%info.x ; X座
%info.y ; Y座
（回s指定の龊希
%info.cx ; CX座
%info.cy ; CY座
%info.xs ; X大率
%info.ys ; Y大率
%info.rot ; 回角

%info.z ; Z
%info.a ; α
%info.cell ; セル番号
%info.cellnum ; セルの数
%info.w ; 幅
%info.h ; 高さ

%info.animtype ; アニメ`ションタイプ
%info.animtime ; アニメ`ションrg

■SPANIMATIONRESET
引数：SPANIMATIONRESET
C能：
スプライトのアニメ`ションを全部リセットします。

■SPBEZIER
引数：SPBEZIER name,x0,y0,x1,y1,x2,y2,x3,y3,sx0,sy0,sx1,sy1,sx2,sy2,sx3,sy3,sx4,sy4,sx5,sy5,sx6,sy6,sx7,sy7
例）
SPBEZIER "sp",0,0, 1,0, 1,1, 0,1, 0.2,-0.2, 0.8,-0.2, 1.2,0.2, 1.2,0.8, 0.8,1.2, 0.2,1.2, -0.2,0.8, -0.2,0.2
C能：
スプライトをベジエワ`プで湫韦筏蓼埂％攻抓楗ぅ趣巫酥付à匣剀sタイプでなければなりません。
座摔悉蓼喉点座摔r回りに左上、右上、右下、左下、次に上右下左のxの制御点をr回りに上x左、上x右、右x上、右x下、下x右、下x左、左x下、左x上、で指定します。は左上点を0,0、右下点を1,1とします。

■SPCELL
引数：SPCELL name,cell
例）
SPCELL "sp1",2
C能：
スプライトのセル番号を切り替えます。

■SPFILL
引数：SPFILL name,cell,color
例）
SPFILL "sp1",0,#00000000
C能：
スプライトをTりつぶします。テキストウィンドウなどで、描画前に以前のテキストを消したいときに使えるでしょう。

■SPMOVE
引数：SPMOVE name,x,y,a
例）
SPMOVE "sp1",100,100,255
C能：
スプライトを移婴筏蓼埂Ｗ酥付à献笊献衰骏ぅ驻扦埂＆は省略でき、その龊255になります。

■SPMOVELT
引数：SPMOVELT name,cx,cy,xs,ys,rot,a
例）
SPMOVE "sp1",300,300,1.2,1.2,RAD(45),255
C能：
スプライトを移婴筏蓼埂Ｗ酥付à现行淖耍回sタイプです。αは省略でき、その龊255になります。
角度のg位はラジアンです。ディグリ`はRADでQしてください。

■SPVISIBLE
引数：SPVISIBLE name,v
例）
SPVISIBLE "sp1",0
C能：
スプライトの表示／非表示をO定します。1で表示、0で非表示です。

■SPZ
引数：SPZ name,z
例）
SPZ "sp1",3
C能：
スプライトのＺをO定します。

■SPFORMAT
引数：SPFORMAT name,cell,str,opt,rubyopt
例）
SPFORMAT "sp1",0,"あいうえおかきくけこ{h字/ルビ}さしすせそ",{font="text",x=2,y=2,w=25,h=4},{font="ruby"}
C能：
英Z文章のようにルビC能を使わない龊悉rubyoptは省略できます。
スプライトに文字列をきzみます。これはスプライトをきQえる命令であって、描画命令ではありません。
たとえばバックログの文字列を作るとき等に使います。テキスト中に%p等がある龊悉gにoします。


■SPPUTTEXT
引数：SPPUTTEXT name,cell,str,opt,rubyopt
例）
SPPUTTEXT "sp1",0,"あいうえおかきくけこ{h字/ルビ}さしすせそ",{font="text",x=2,y=2,w=25,h=4,wait=50},{font="ruby"}
C能：
英Z文章のようにルビC能を使わない龊悉rubyoptは省略できます。
スプライトに文字列をきzみ、それを逐次表示します。waitで速度を{整できます。速度に0を指定したときは瞬rに全部を表示します。
テキスト中の%pと文末で、BASICの@textbを呼び出してテキストウィンドウのインタフェ`スI理をします。
ただし、文末が_でKわってる龊悉衔哪─扦违ぅ螗骏榨З`スI理はしません。表示がKわるとそのまま次の行にg行を移します。
（これは旧NScripterのlinepageと似た幼鳏扦梗

■GETSPCELL
引数：GETSPCELL(name)
例）
%cell=GETSPCELL("sp1")
C能：
指定したスプライトのセル番号を取得します。

■SPHITCHECK
引数：SPHITCHECK(name,x,y)
例）
if SPHITCHECK("sp1",100,100)==1 then goto @hit
C能：
指定した座摔スプライトの内趣含まれるかどうかを判定し、内龋àたっている）なら1、そうでなければ0を返します。
今のところ、左上座诵问饯韦猡韦摔筏辘筏皮い蓼护蟆

＜高水拭杌／入力待ち命令＞
■PRINT
引数：PRINT effectsymbol,time,param
例）
PRINT #C
PRINT #RD,500
PRINT #SL,500
PRINT #F,500
PRINT #U,500,"rule.png"
C能：
スプライトの描画状Bを涓すると、内部にその浠が蓄eされます。
PRINT命令でgHに画面に反映することが出来ます。この仕は旧NScripterと同じです。
シンボルはトランジションのNを指定します。
#C もしくは"" 瞬r表示 rg指定はいりません。

#F クロスフェ`ド
#RU #RD #RL #RR ロ`ル上下左右
#SU #SD #SL #SR スクロ`ル上下左右
#U ユニバ`サルトランジション 三番目の引数にル`ル画像を取ります。旧NScripterのトランジション18番と同じです。

■QUAKE time,num,size
引数：QUAKE time,num,size
C能：
画面をeらします。欷堡rg（g位ミリ秒）,eらす回数、eらす幅(1=画面の1/20)を指定します。
画面をずらしたrに後ろの\ウィンドウ部分がえないように大していますので、幅を大きくすると大率も上がります。
このxの幼鳏荬巳毪椁胜龊悉system.luaのQUAKEを上きするか、自前でe命令をg装してください。

■CLICK
引数：CLICK
C能：
左クリック待ちします。スプライトアニメ`ション等もg行されます。

■LRCLICK
引数：LRCLICK retval
C能：LRCLICK %ret
左右のクリックを判eするクリック待ちをします。スプライトアニメ`ション等もg行されます。
左クリックの龊涫に#L、右クリックの龊涫に#Rが入ってきます。
ＣＧモ`ド等で便利に使えます。

＜ボタンC能＞
※スプライト操作文字列について
旧NScripterにおけるボタンC能に近いC能です。デフォルトのボタン幼鳏浠する以外のI理をしたい龊悉耸工い蓼埂
"S(test.ogg)" そのサウンドを再生します。
"P(spname,N)"指定したスプライトのセル番号を涓します。Nとありますが、これは整数の数を直接かなければなりません。涫は使えません。
"C(spname)"指定したスプライトを消去します。
"M(spname,x,y)"指定したスプライトを移婴筏蓼埂
これらはつなげてMみ合わせることも出来ます。

■BTNCLEAR
引数：BTNCLEAR setname,defstr
例）
C能：
※setnameとdefstrは必要がない龊鲜÷预扦ます。
※setnameを省略すると、スプライトセット""を指定したのと同じことになります。
※defstrを指定するときはsetnameは省略できません。
ボタン定xをクリアします。ボタン定xはスプライトセットごとにeです。
defstrは、どのボタンにもカ`ソルが重なっていないrにg行する「スプライト操作文字列」を指定します。


■BTN
引数：BTN name,opt
例）
BTN "sp1"
BTN "sp2",{style="push"}
BTN "sp3",{style="toggle"}
BTN "sp4",{on="P(sp1,0)P(sp2,1)"}
BTN "bar0",{style="bar"}
C能：
指定したスプライトにボタンI理を定xします。
optには次のが指定できます。
on="スプライト操作文字列"
　ボタンにカ`ソルが重なったときにg行するI理を指定します。
off="スプライト操作文字列"
　ボタンからカ`ソルがxれたときにg行するI理を指定します。
style="スタイル指定"
　ボタンのスタイルを指定します。省略すると"push"になります。次のNがあります。
　"push" または"" プッシュボタン、重なっているときにセル1、xれているときにセル0を表示、りはスプライト名です。
　"toggle" トグルボタン 押すごとにセル0と1が切り替わります。りは"スプライト名:0"もしくは"スプライト名:1"です。
　"bar" バ` セルをバ`のように使って、スプライトの中のどこをクリックしたかでバ`の位置が浃铯辘蓼埂￥沥绀盲趣浃浃长筏い韦钎单螗抓毪虿握栅筏皮ださい。
align="left" もしくは align="right"
　バ`タイプのボタンで、スプライトのどちらの端を0にするかをxkします。省略rのデフォルトは"left"です。
notreset=1
　プッシュボタンで、押した後に通常ならセルが0にりますが、1のままらないようにします。

■BTNEXEC
引数：BTNEXEC val,setname,opt
例）
BTNEXEC %ret,"setname",{wheel=1}
C能：
※setnameとoptは必要がない龊鲜÷预扦ます。
※setnameを省略すると、スプライトセット""を指定したのと同じことになります。
※optを指定するときはsetnameは省略できません。

ボタンI理をg行します。りはシンボルもしくはスプライト名ですが、スプライト名にはスプライトセット名は含まれません。
つまりプッシュボタン"set:sp"が押されたときは"sp"がってきます。これは、スプライトセット名は自明だからです。

りは、
プッシュボタン……"スプライト名"
トグルボタン……"スプライト名:0"もしくは"スプライト名:1"
バ`……"スプライト名:セル番号"
""……ボタンではないところをクリックしたとき
#R……右クリックr

optには次のが指定できます。
wheel=1
　ホイ`ル入力を取得します。りは、#WU(ホイ`ルアップr) #WD(ホイ`ルダウンr)です。
ctrl=1
　コントロ`ルキ`を取得します。#CTRLがります。
spcret=1
　スペ`スキ`とリタ`ンキ`を取得します。" "もしくは#RETURNを返します。
automode=1
　オ`トモ`ドをg行します。ボイスがなっているときはボイスがK了したとき、なっていないときはtimeで指定したrgが^ぎたときにI理をA行します。
　タイムアウト（もしくはボイスK了）rのりは#TIMEOUTです。
time=1000
　タイムアウトrを指定します。オ`トモ`ドrには、ボイスがなっていないとき、オ`トモ`ドでないときはどのような龊悉扦庵付rgでタイムアウトします。
ldown=1
　マウス左ボタンの押し下げを判定します。#LDがります。
rdown=1
　マウス右ボタンの押し下げを判定します。#RDがります。
func=1
　ファンクションキ`を取得します。#F1～#F12がります。
cursor=1
  カ`ソルキ`を取得します。#UP #DOWN #LEFT #RIGHTがります。
alphabet=1
  アルファベットキ`を取得します。#KEY_A～#KEY_Zがります。
＜フォントC能＞
■FONT
引数：FONT name,opt
例：
FONT "text1",{}
FONT "text2",{name="ＭＳ ゴシック",color=#FFFFFFFF,width=16,height=16}
FONT "text3",{name="ＭＳ ゴシック",style="outline",outlinecolor=#FF000000,color=#FFFFFFFF,width=24,height=24}
FONT "text4",{name="ＭＳ ゴシック",style="shadow",color=#FFFFFFFF,shadowcolor=#FF000000,width=24,height=24}
FONT "text5",{name="ＭＳ ゴシック",style="fancy",outlinecolor=#FF000000,color1=#FFFFEEAA,color2=#FFFFFFFF,shadowcolor=#FF000000,fx=1,fy=1,width=24,height=24}
C能：
フォントを作成します。フォントはセ`ブされませんので、必ず通るスクリプト冒^で宣言するのがいいでしょう。

■FDELETE
引数：FDELETE name
例：
FDELETE "text1"
C能：
フォントを削除します。

＜各N音声再生C能＞
※低水圣单Ε螗C能を内部的に使っています。同rに使うときは内部仕について{べてからにしてください。
■BGMPLAY
引数：BGMPLAY name
例：
BGMPLAY "test.ogg"
C能：
ＢＧＭを再生します。ＢＧＭはル`プします。

■BGMPLAYONCE
引数：BGMPLAYONCE name
例：
BGMPLAYONCE "test.ogg"
C能：
ＢＧＭを一回だけ再生します。ル`プしません。

■BGMSTOP
引数：BGMSTOP
例：
BGMSTOP
C能：
ＢＧＭを停止します。

■BGMVOLUME
引数：BGMVOLUME vol
例：
BGMVOLUME -10000
C能：
ＢＧＭの音量を{します。は0～-10000で、0が最大、-10000がo音です。
-2000くらいでほとんどこえなくなるようです。gHにしていい感じの数にしてください。
ボリュ`ムについては他の命令でも同じ欷扦埂

■BGMFADEOUT
引数：BGMFADEOUT time
例：
BGMFADEOUT 1000
C能：
ＢＧＭ停止r／切替rのフェ`ドアウトに欷堡rgを指定します。g位はミリ秒です。
フェ`ドアウトによってg行は止まりません。
他の曲を再生した龊悉稀フェ`ドアウトしながら、平行して次の曲の演奏が始まります。

■GETBGMVOLUME
引数：GETBGMVOLUME()
例：
bgmvol=GETBGMVOLUME()
C能：
F在のＢＧＭボリュ`ムを取得します。

■BGVPLAY
引数：BGVPLAY ch,name
例：
BGVPLAY 0,"bgvoice.ogg"
BGVPLAY 0,""
C能：
ＢＧＶ(Back Ground Voice、台~ボイス(VOICEPLAY命令)が再生されていないときにル`プで再生されるボイス）を再生します。
chはチャンネルで0～15です。ファイル名に""を指定するとＢＧＶが停止します。

■BGVFADEOUT
引数：BGVFADEOUT time
例：
BGVFADEOUT 1000
C能：ＢＧＶのフェ`ドアウトrgをミリ秒で指定します。

■BGVVOLUME
引数：BGVVOLUME vol
例：
BGVVOLUME 0
C能：
ＢＧＶのボリュ`ムを指定します。

■GETBGVVOLUME
引数：GETBGVVOLUME()
例：
bgvvol=GETBGVVOLUME()
C能：
F在のＢＧＶボリュ`ムを取得します。

■SEPLAY
引数：SEPLAY ch,name
例：
SEPLAY 0,"test.ogg"
C能：
ＳＥを再生します。chはチャンネルで、0～15です。

■SELOOP
引数：SELOOP ch,name
例：SELOOP 1,"loopse.ogg"
C能：
ＳＥをル`プで再生します。

■SESTOP         param:N        type:Lua
引数：SESTOP ch
例：
SESTOP ch
C能：
ＳＥを停止します。

■SESTOPALL      param:         type:Lua
引数：SESTOPALL
例：
SESTOPALL
C能：
全てのチャンネルのSEを停止します。
■SEVOLUME       param:N        type:Lua
引数：SEVOLUME vol
例：
SEVOLUME -1000
C能：
ＳＥのボリュ`ムを涓します。
■SECHVOLUME     param:NN       type:Lua
引数：SECHVOLUME ch,vol
例：
SECHVOLUME 4,-10000
C能：
あるチャンネルのボリュ`ムを涓します。
■SEFADEOUT      param:N        type:Lua
引数：SEFADEOUT time
例：
SEFADEOUT 1000
C能：
ＳＥのフェ`ドアウトrgを指定します。

■GETSEVOLUME
引数：GETSEVOLUME()
例：
sevol=GETSEVOLUME()
C能：
F在のＳＥボリュ`ムを取得します。

■VOICEPLAY      param:S*       type:Lua
引数：VOICEPLAY name,spd
例：
VOICEPLAY "voice0000.ogg"
VOICEPLAY "voice0000.ogg",2
C能：
ボイスを再生します。spdは省略可能です。ここに2を指定すると倍速再生します。
ファイル名に""を指定すると今Qらしているボイス再生が停止します。
■VOICEFADEOUT   param:N        type:Lua
引数：VOICEFADEOUT time
例：
VOICEFADEOUT 1000
C能：
ボイスのフェ`ドアウトrgを指定します。
■VOICEVOLUME    param:N        type:Lua
引数：VOICEVOLUME vol
例：
VOICEVOLUME -10000
C能：
ボイスのボリュ`ムをO定します。

■GETVOICEVOLUME
引数：GETVOICEVOLUME()
例：
voicevol=GETVOICEVOLUME()
C能：
F在のボイスボリュ`ムを取得します。

＜ム`ビ`C能＞
■MOVIE
引数：MOVIE name,clickskip,volume
例：
MOVIE "test.mpg",1,0
※clickskipは省略すると0、volumeは省略するとBGMのボリュ`ムと同じになります。
C能：
ム`ビ`をウィンドウ全体、最前面で再生し、再生をKえるまで他の幼鳏蛑工幛蓼埂
オ`プニング／エンディング／操作や重ねあわせ描画の必要のoいカットム`ビ`などに使います。
clickskipに1を指定するとクリックでwばせるようになります。

■MRESET
引数：MRESET
例：
MRESET
C能：
ム`ビ`テクスチャをリセットします。全てのム`ビ`テクスチャが最初から再生されます。

■MWRITEBEGIN
引数：MWRITEBEGIN filename,width,height,fps,framenum
例：
MWRITEBEGIN "test.avi",800,600,30,60 ;30FPS,60フレ`ム、つまり2秒のム`ビ`
C能：
ム`ビ`ファイルをきzみ用に_きます。フォ`マットはoRsAVIになります。
一度にひとつのム`ビ`ファイルしかきzめません。

■MWRITE
引数：MWRITE frame,bmpname
例：
MWRITE 10,"bmp"
C能：
F在集中のム`ビ`にフレ`ム画像を登hします。
画像には↓でh明しているビットマップ系の命令で作成した「ビットマップ名」を指定します。

■MWRITEEND
引数：MWRITEEND
例：
MWRITEEND
C能：
ム`ビ`ファイルの集をK了し、ファイルにきzみます。

＜その他基本C能＞
■QUIT
引数：QUIT
例：
QUIT
C能：
プログラムをK了します。BASICで一般的なEND命令はg装していません。
これは、END IFやEND LOOPなどの文でも使うので（また、Luaではendひとつでブロックを]じるため）、混乱しないようにするためです。

■LOAD
引数：LOAD num
例：
LOAD 2
C能：
セ`ブファイルからゲ`ムをロ`ドします。numはセ`ブ番号。

■SAVE
引数：SAVE num
例：
SAVE num
C能：
セ`ブファイルに最後に通ったセ`ブポイントのデ`タを保存します。numはセ`ブ番号。
セ`ブポイントは、テキスト行^で自拥膜烁新されます。

■SAVEMODE
引数：SAVEMODE n
例：
SAVEMODE 1
C能：
セ`ブポイント更新モ`ドをオン／オフします。numはセ`ブ番号。
0にするとセ`ブポイントが更新されなくなります。

■SAVEPOINT
引数：SAVEPOINT
例：
SAVEPOINT
C能：
セ`ブポイントを制的に更新します。numはセ`ブ番号。
多少rgが欷りますので、必要なとき以外はやらないでください。

■SAVETIME       param:NRRRRRR  type:C++
引数：SAVETIME num,yearval,monthval,dayval,hourval,minval,secval
例：
SAVETIME 3,%year,%month,%day,%hour,%min,%sec
C能：
セ`ブファイルの保存されたrgを取得します。numはセ`ブ番号。

■SCHK
引数：SCHK(num)
例：
%saveexist=SCHK(2)
C能：セ`ブファイルがあれば1、なければ0を返します。numはセ`ブ番号。

■WAIT
引数：WAIT time,clickskip
例：
WAIT 1000
WAIT 2000,1
C能：
指定したrgだけウェイトを入れます。アニメ`ションはg行されます。
clickskipは省略できます。1を指定すると、クリックでwばせるようになります。

■SKIP
引数：SKIP num
例：
SKIP 1
C能：
スキップモ`ドを涓します。
0でスキップオフ（通常モ`ド）、1でスキップモ`ド、2でオ`トモ`ドです。

■GETSKIP
引数：GETSKIP()
例：
%skipmode=GETSKIP()
C能：
F在のスキップモ`ドを取得します。

■TCHK
引数：TCHK()
例：
%alreadyread=TCHK()
C能：
F在のテキスト位置が、既にiんだところであれば1、初めてiむところであれば0を返します。
既iスキップは@textbのところでこのとスキップモ`ドをてスキップをオフするように作ります。

■LUA
引数：LUA str
例：
LUA 'os.execute("pause")'
C能：
Luaスクリプトをg行します。

■LUAFILE
引数：LUAFILE filename
例：
LUAFILE "system.lua"
C能：
Luaスクリプトファイルをiみzみg行します。

■LUAF
引数：LUAF str
例：
%a=LUAF("foo(1)")
C能：
Luav数をg行し、そのりをこのBASICv数のりとして返します。

■DEFSUB
引数：DEFSUB commandname,prototypestr
例：
DEFSUB chr,"SN"
C能：
コマンドを定xします。コマンドはサブル`チン名にもなります。
この龊悉坤取⑽淖至涫１つを引数にとるコマンドchrを定xします。
@chr
param %name,%pos
サブル`チン趣扦悉长韦瑜Δ艘数を受け取ります。

プロトタイプ宣言は次の号が使えます。
S 文字列
N 数
R 涫名（いわゆる参照渡しです。VSET VGETで涫のを涓／参照できます）
A 数もしくは文字列
. 一つ前のパラメ`タをその後あるだけ受け取ります。
?N ?S 存在する龊悉韦NかSを、oい龊悉#NILを受け取ります。
* 以降のパラメ`タを型チェックしません。全てそのまま受け取ります。
O オプション法を受け取ります。内部的にはひとつの文字列です(basic.decode_tableに渡します)

■PARAM
引数：PARAM param1,param2,...
例：
param %name,%pos
C能：
サブル`チンコ`ルrに渡されたパラメ`タを涫に受け取ります。

■VSET
引数：VSET varname,value
例：
defsub test,"R"
test %name
cprint %name
quit

@test
param %v
vset %v,"名前"
return
C能：
paramで受け取った涫名にアクセスし、涫にを代入します。


■VGET
引数：VGET(varname)
例：
defsub test,"R"
%name="てすと"
test %name
quit

@test
param %v
cprint vget(%v)
return


■CALL文
引数：CALL label,prototypestr,param1,param2,...
例：
CALL @test,"SS","paramstr1","paramstr2"
C能：
指定ラベルをあたかもDEFSUB定xされた命令のように呼び出します。
そこでしか使わないようなI理でDEFSUB定xするほどの用性がないときに使います。
呼び出されたサブル`チンの趣扦DEFSUBrとまったく同じ述が出来ます。

■INPUT
引数：INPUT val,text,caption
例：
INPUT %ret,"テキスト本文です","ダイアログのタイトルです"
C能：
文字列を入力するダイアログを表示して、涫に代入させます。

■GETSCREENSHOT
引数：GETSCREENSHOT bmpname
例：
GETSCREENSHOT "test"
C能：
ビットマップオブジェクトを作り、そこにスクリ`ンショットを保存します。

■GETLOGTEXT
引数：GETLOGTEXT num,tag,text
例：
GETLOGTEXT 0,%tag,%text
C能：
バックログに保存されているデ`タを取得します。
0がF在のテキスト、1～がその数だけきったテキストです。

■LOGCHK
引数：LOGCHK(num)
例：
%logexist=LOGCHK(1)
C能：
その指定番号のログが存在すれば1、しなければ0を返します。
このv数が1を返すときはGETLOGTEXT命令でログを取得できます。

■LCHK
引数：LCHK(label)
例：
%labelflag=LCHK("@test")
C能：
そのラベルを通ったことがあれば1、なければ0を返します。
シ`ン回想モ`ドのg装等に使います。

■FCHK
引数：FCHK(filename)
例：
%fileflag=FCHK("ev\test.png")
C能：
その画像をテクスチャとしてiみzんだことがあれば1、なければ0を返します。
ＣＧモ`ドのg装等に使います。

■FILECHK
引数：FILECHK(filename)
例：
%appendflag=FILECHK("06.ns2")
C能：
そのファイルがア`カイブもしくは生ファイルで存在するかどうかをチェックします。
FCHKは「iみzんだことがあるかどうか」のチェックであり、存在していてもiみzんでいなければ0がりますが、
こちらは存在さえすれば1がることに注意してください。
追加パッチ用のデ`タがあるかないかのチェック等に使います。

■LINSERT
引数：LINSERT label
例：
LINSERT "@test"
C能：
そのラベルをあたかもgHに通ったかのようにログにhします。たとえば回想モ`ド用のラベルとgHのシナリオ上のラベルが`う（回想モ`ド用の特殊なI理がある等のため）などに使えます。

■FINSERT
引数：FINSERT filename
例：
FINSERT "test.png"
C能：
そのファイルをあたかもgHにizんだかのようにログにhします。ＣＧモ`ド等でgHにシナリオ中で表示する画像とＣＧモ`ド登hの画像が`うrなどに使えます。

■FILETIME
引数：FILETIME name,year,month,day,hour,min,sec
例：
FILETIME "test.txt",%year,%month,%day,%hour,%min,%sec
C能：
そのファイルの更新日rを取得します。

＜ＯＳC能＞
■CAPTION
引数：CAPTION name
例：
CAPTION "ウィンドウタイトル"
C能：
ウィンドウタイトルに文字列をO定します。
※ウィンドウタイトルはフルスクリ`ンrにはえないことに注意して下さい。
　ここに表示される文字列は全てのプレイヤ`に常にえているとは限りません。

■CLEARMOUSE
引数：
CLEARMOUSE
例：
CLEARMOUSE
C能：
ウィンドウのマウスメッセ`ジをクリアします。
この命令までにクリックしたメッセ`ジは全部破されます。

■DOEVENTS
引数：
DOEVENTS
例：
DOEVENTS
C能：
メッセ`ジをI理します。ル`プの中でm切に呼んで下さい。
GETCLICKやGETMOUSEでメッセ`ジI理するル`プI理をくHは、この命令がないとメッセ`ジを取得出来ません。

■EXEC
引数：EXEC str
例：
EXEC 'CAPTION "涓"'
C能：
文字列で指定したBASIC文をg行します。

■GETCLICK
引数：GETCLICK l,r,w,ld,rd
例：
GETCLICK %l
GETCLICK %l,%r,%w
C能：
マウス入力を取得します。涫指定は省略できます。
左から、左クリックxす、右クリックxす、ホイ`ル入力、左クリック押す、右クリック押すです。
※xすほうを基胜摔筏皮い毪韦Windowsのインタフェ`スでは一般的なやり方です。
※ホイ`ルは上なら-1、下なら1がります。

■GETMOUSE
引数：GETMOUSE x,y
例：
GETMOUSE %x,%y
C能：
マウスの座摔蛉〉盲筏蓼埂；面外の龊悉弦宦-1,-1を返します。

■SETCLIPBOARD
引数：SETCLIPBOARD str
例：
SETCLIPBOARD "cliptext"
C能：
クリップボ`ドにテキストを指定します。
例えば画像をxkするとそれを表示するスクリプト文をクリップボ`ドにhするようなプログラムを作るのに使えます。

■SETMOUSE
引数：SETMOUSE x,y
例：
SETMOUSE 400,300
C能：
マウスカ`ソルを指定座摔艘婴筏蓼埂

■OKBOX
引数：OKBOX text,caption
例：
OKBOX "ダイアログボックスの本文","ウィンドウタイトル"
C能：
OKボタンのあるダイアログを表示します。OKを押すまで次のI理には移行しません。

■RESETTIMER
引数：RESETTIMER
例：
RESETTIMER
C能：
内部タイマをリセットします。GETTIMER()やWAITTIMERのrgはこれを起点にyられます。

■WAITTIMER
引数：WAITTIMER milisecond
例：
WAITTIMER 1000
C能：
RESETTIMERから指定したrg（g位：ミリ秒）がUつまで待ちます。アニメ`ションなどはg行されます。

■SETSCREEN
引数：SETSCREEN screenflag
例：
SETSCREEN 1
C能：
スクリ`ンモ`ドをO定します。0=ウィンドウモ`ド 1=フルスクリ`ンモ`ド（解像度涓） 2=フルスクリ`ンモ`ド（k横比を保存して大）です。

■SHELL
引数：SHELL str
例：
SHELL "readme.txt"
SHELL "http://www.nscripter.com/"
C能：
シェルで指定したファイルを_きます。URLを指定すると定のWEBブラウザでそのURLをに行きます。

■YESNOBOX
引数：YESNOBOX ret,text,caption
例：
YESNOBOX %ret,"上きセ`ブしますか？","上きセ`ブ_J"
C能：
はい／いいえで答えるダイアログを表示します。はいなら1、いいえなら0が涫に代入されます。

■GETCONFIG
引数：GETCONFIG(key)
例：
%value=GETCONFIG "configkey"
C能：
iniファイルからO定をiみ取ります。指定したキ`にO定された文字列を返します。

■GETKEY
引数：GETKEY(keystr)
例：
%ret=GETKEY("C")
%ret=GETKEY("CTRL")
%ret=GETKEY(" ")
C能：
キ`が押されていれば1、xされていれば0を返します。
キ`文字列には英Z大文字の他、次のものが指定出来ます。
" "もしくは"SPACE" スペ`スキ`
"ESC" エスケ`プキ`
"CTRL" コントロ`ルキ`
"UP" "DOWN" "LEFT" "RIGHT" カ`ソルキ`
"F1"～"F12" ファンクションキ`
"RETURN" "ENTER" リタ`ンキ`
"PAGEUP" "PAGEDOWN" ペ`ジアップ／ダウンキ`
"SHIFT" シフトキ`
"SCROLLLOCK" スクロ`ルロックキ`(オン状Bなら1、オフ状Bなら0)
"NUMLOCK" ナムロックキ`(オン状Bなら1、オフ状Bなら0)
"CAPSLOCK" キャプスロックキ`(オン状Bなら1、オフ状Bなら0)
"LBUTTON" マウス左ボタン
"RBUTTON" マウス右ボタン
"MBUTTON" マウス中央ボタン（全てのh境であるわけではないので注意）

■GETSCREEN
引数：GETSCREEN()
例：
%screenmode=GETSCREEN()
C能：
F在のスクリ`ンモ`ドを取得します。0=ウィンドウモ`ド 1=フルスクリ`ンモ`ドです。

■GETTIMER
引数：GETTIMER()
例：%tm=GETTIMER()
C能：
RESETTIMERからF在までU^したrgをミリ秒g位で取得します。

■LCLICKED
引数：LCLICKED()
例：
%clicked=LCLICKED()
C能：
まだI理されていない左クリックがあれば1、なければ0を取得します。

■TIME
引数：TIME year,month,day,hour,min,sec
例：
TIME %year,%month,%day,%hour,%min,%sec
C能：
F在r刻を取得します。

■MOVIE
引数：MOVIE filename,clickskipflag,volume
例：
MOVIE "op.mpg",1
C能：
ム`ビ`を全画面で再生します。クリックフラグがオンならクリックでwばすことが出来ます。
クリックフラグとボリュ`ムは省略できます。ボリュ`ムは省略するとBGMボリュ`ムと同じになります。
※透^ム`ビ`は透^O定をoしてそのまま再生してしまいますのでご注意ください。
　透^ム`ビ`はテクスチャ（スプライト等）としてしか透^しません。

＜コンソ`ルC能＞
■BEEP
引数：BEEP freq,mili
例：
BEEP
C能：
freqとmiliは省略できます。ビ`プ音をQらします。
レガシ`なC能なので、音は相です。freqは周波数、miliはLさです（g位ミリ秒）

■CCAPTION
引数：CCAPTION titlestr
例：
CCAPTION "NScripter2 コンソ`ル"
C能：
コンソ`ルウィンドウにタイトルをO定します。

■CCLEAR
引数：CCLEAR
例：
CCLEAR
C能：
コンソ`ルウィンドウをクリア（画面の文字を全消去）します。

■CCLOSE
引数：CCLOSE
例：
CCLOSE
C能：
コンソ`ルウィンドウを]じます。

■CCOLOR
引数：CCOLOR cr,cg,cb,br,bg,bb,ci,bi
例：CCOLOR 1,0,1,0,0,1
C能：
引数はどこからでも省略できます。
コンソ`ルの色をO定します。cr,cg,cb,ci 文字色 br,bg,bb,bi 背景色です。
rgbは赤v青、iは色の猡丹扦埂0は薄い、1は猡い扦埂

■CGETCURSOR
引数：CGETCURSOR x,y
例：
CGETCURSOR %x,%y
C能：
コンソ`ルのカ`ソルの座摔蛉〉盲筏蓼埂

■CGETSIZE
引数：CGETSIZE w,h
例：
CGETSIZE %w,%h
C能：
コンソ`ルの幅と高さを文字数g位で取得します。

■CLOCATE
引数：CLOCATE x,y
例：
CLOCATE 10,2
C能：
コンソ`ルのカ`ソル位置を取得します。

■COPEN
引数：COPEN
例：
COPEN
C能：
コンソ`ルウィンドウを_きます。
この命令を使わなくてもコンソ`ルへの入出力をg行すれば自婴情_きます。

■CPRINT
引数：CPRINT a,b,c,...
例：
CPRINT "表示文字列です。"
C能：
コンソ`ルに文字列を出力します。最後に改行を加えます。
引数の数は自由です。}数の引数を指定すると、BYして表示します。

■CSETSIZE
引数：CSETSIZE w,h
例：
CSETSIZE 80,25
C能：
コンソ`ルの幅と高さを文字数g位でO定します。

■CSETTEXT
引数：CSETTEXT str,x,y,cr,cg,cb,br,bg,bb,ci,bi
例：
CSETTEXT "あいうえお",3,3,1,1,1,0,0,0,1,1
C能：
指定した位置に指定した文字列を表示します。
CLOCATEとCCOLORを参考にすれば引数の意味は分かると思います。

■CWRITE
引数：CWRITE a,b,c,...
例：
CWRITE "改行しない表示文字列です。"
C能：
CPRINTとほとんど同じですが、改行しません。

■SLEEP
引数：SLEEP miliwait
例：
SLEEP 1000
C能：
指定したrg（g位ミリ秒）だけI理を止めます。
スプライトアニメ`ションI理やメッセ`ジI理などは行いませんので、あまりLいg止めないようにしてください。

■SYSTEM
引数：SYSTEM str
例：
SYSTEM "pause"
C能：
指定したコマンドをコマンドプロンプトからg行します。

■CINKEY
引数：CINKEY()
例：
%key=CINKEY()
C能：
コンソ`ルから文字を一文字入力します。
F1 CTRL DOWN ESC RETURN PAGEUP SHIFT などの特殊キ`用の文字列も返します。
入力待ちにはならず、入力がなかった龊悉#NILを返します。

■CREAD
引数：CREAD()
例：
%str=CREAD()
C能：
コンソ`ルから文字列を入力します。

＜涫C能＞
■ISDEF
引数：ISDEF(val)
例：%isfirst=ISDEF(_first)
C能：
その涫が定xされていれば1、されていなければ0を返します。
通常、定xされていない涫にアクセスするとエラ`になりますが、このv数だけはeです。
例えば、↑の例ではシステム涫_firstが定xされているかどうかを{べています。
これは、初回起r（つまり何も涫が定xされていない）0なので、初回rのコンフィグO定等をするI理にwばすrに使える定石です。
（そのHは、忘れずにO定先で_first=1とでもして、定x状Bにしてください）

■SPLIT
引数：SPLIT str,delchr,val1,val2,...
例：
SPLIT "あいうえお/かきくけこ/さしすせそ","/",%v1,%v2,%v3
C能：
文字列を区切り文字で分割して涫に格{します。辘工胛淖至肖存在しない涫には""が代入されます。
例えば↑の龊悉扦れば、%v1="あいうえお" %v2="かきくけこ" %v3="さしすせそ" になります。

■SPLITA
引数：SPLITA str,delchr,val
例：SPLITA "あいうえお/かきくけこ/さしすせそ","/",%v
C能：
文字列を区切り文字で分割して、配列涫に格{します。いくつ返ってくるか予想が付かないので、最後の要素には#NILが入ります。
例えば↑の龊悉扦れば、%v[0]="あいうえお" %v[1]="かきくけこ" %v[2]="さしすせそ" %v[3]=#NIL となります。

■STRSAVE
引数：STRSAVE filename,str
例：
STRSAVE "savefile.txt","Hello World!"
C能：
指定した文字列を指定したファイルにテキストファイルとして保存します。

■STRLOAD
引数：STRLOAD(filename)
例：
%str=STRLOAD(filename)
C能：
テキストファイルをiみ取りその文字列を返します。

■VCLEAR
引数：VCLEAR val
例：
VCLEAR v
C能：
指定した涫、配列、造体などをクリアします。
上の例だと、配列（v[0] v[1]... やv[0][1]...） や造体（v.param1 v.name ）などがクリアされます。

■VCOPY
引数：VCOPY dest,src
例：
VCOPY %dest,%src
C能：
指定した涫、配列、造体などをまるまるコピ`します。
上の例だと、%src[0] %src[1]... %src.param1 %src.name などが%dest[0] %dest[1]... %dest.param1 %dest.nameなどにコピ`されます。

■RANDOMSEED
引数：RANDOMSEED num
例：RANDOMSEED 0
C能：
乱数の初期化をします。0を指定しておけば盎剡`う乱数列がスタ`トします。
0以外だと、同じ数を指定すれば同じ乱数列になります。


（v数）
※以下の数学v数はC言ZやLuaの同名v数とだいたい同じです。
　名前で分かると思うのでh明を省略します。
ABS(x) ACOS(x) ASIN(x) ATAN(x) ATAN2(y,x) CEIL(x) COS(x)
COSH(x) DEG(rad) EXP(x) FLOOR(x) LOG(x) LOG10(x)
RAD(deg) SIN(x) SINH(x) SQRT(x) TAN(x) TANH(x)

※BASIC由来のv数やその他分かりにくそうなのを解hします。
■PI
引数：PI()
C能：抑苈胜虻盲蓼埂

■ASC
引数：ASC(chr)
例：
ASC(" ")
C能：
その文字のアスキ`コ`ドを得ます。

■CHR
引数：CHR(chrcode)
例：CHR(13)
C能：
キャラクタ`コ`ドから文字を得ます。

■JOIN
引数：JOIN(delchr,a,b,...)
例：
%str=JOIN("/","あいうえお","かきくけこ","さしすせそ")
C能：
SPLITの反で、文字列を区切り文字でBYしたものを返します。
↑の例であれば、"あいうえお/かきくけこ/さしすせそ"を返します。

■JOINA
引数：JOIN(delchr,val)
例：
%str=JOINA("/",%v)
C能：
SPLITAの逆で、配列の内容を区切り文字でBYしたものを返します。
%v[0]="あいうえお" %v[1]="かきくけこ" %v[2]="さしすせそ" %v[3]=#NIL(もしくは未定xだったり数だったり)のとき、
↑の例であれば、"あいうえお/かきくけこ/さしすせそ"を返します。

■LCASE
引数：LCASE(chr)
例：%c=LCASE("ABC")
C能：
小文字を返します。↑の例なら"abc"を返します。

■LEFT
引数：LEFT(str,num)
例：%str=LEFT("string",3)
C能：
文字列を左から指定した文字数だけ切り出して返します。
↑の例なら%str="str"になります。

■LEN
引数：LEN(str)
例：%l=LEN("abcde")
C能：
文字列のLさをバイト数で返します。この龊悉胜%l=5になります。

■LTRIM
引数：LTRIM(str)
例：
%str=LTRIM("   string   ")
C能：
左から空白を削除した文字列を返します。右の空白は削除しません。
この龊悉胜椤%str="string   "になります。

■MID
引数：MID(str,start,num)
例：
%str=MID("abcdefg",2,3)
C能：
文字列の指定位置から指定文字数の部分文字列を切り出します。
先^は0になります。この龊悉胜%str="cde"になります。

■NUM
引数：NUM(str)
例：%n=NUM("100")
C能：
文字列を数にQします。この龊悉扦れば、%n=100になります。

■RANDOM
引数：RANDOM()
例：%r=RANDOM()
C能：
乱数を生成します。0～32ビット整数の最大までがります。
例えば0～99が得たい龊悉稀%r=RANDOM() mod 100
1～6が得たい龊悉%r=RANDOM() mod 6 + 1とすればいいでしょう。

■REPLACE        param:SSS      type:C++
引数：REPLACE(str,from,to)
例：%str=REPLACE("abcdefghi","def","ZZZ")
C能：
文字列の置Qをします。↑の例の龊稀%strは"abcZZZghi"になります。

■REGEX_REPLACE
引数：REGEX_REPLACE(str,regex,repstr)
例：%str=REGEX_REPLACE("abc123def","[0123456789]","Z")
C能：
正表Fによる文字列の置Qをg行します。↑の例の龊稀%strは"abcZZZdef"になります。

■RIGHT
引数：RIGHT(str,num)
例：%str=RIGHT("abcdef",3)
C能：
文字列の右端から指定文字を切り取ります。↑の例なら"def"になります。

■RTRIM
引数：RTRIM(str)
例：%str=RTRIM("   string   ")
C能：
右から空白を削除した文字列を返します。左の空白は削除しません。
この龊悉胜椤%str="   string"になります。

■SEARCH
引数：SEARCH(str,findstr)
例：%s=SEARCH("abcdefghi","def")
C能：
文字列を仕鳏筏葡阮^位置を返します。ない龊悉-1を返します。
↑の龊悉胜%s=3になります（先^は０であるため）

■SGN
引数：SGN(n)
例：%s=SGN(-100)
C能：
引数がの数なら-1、正の数なら1、0なら0を返します。兢盲啤↑の例なら-1です。

■STR
引数：STR(n)
例：%str=STR(12345)
C能：
引数の数を文字列にQします。↑の例なら%str="12345"です。

■STRF
引数：STR(formatstr,n)
例：%str=STRF("%3d",12)
C能：
数をフォ`マット化して文字列にQします。
c言Zのprintfの式文字列の整数もしくは小数点数の表をそのまま使います。
↑の例だと、%str=" 12"です（３桁で空白を入れて右になっている）

■TRIM
引数：TRIM(str)
例：%str=TRIM("   string   ")
C能：
文字列の左右から空白を削除します。↑の例では%str="string"です。

■TYPE
引数：TYPE(val)
例：%t=TYPE(123)
C能：
与えた引数の型を返します。↑の龊悉胜%t=#NUMBERになります。
文字列を与えれば%t=#STRINGになります。#NILの龊悉#NILです。

■UCASE
引数：UCASE(str)
例：%s=UCASE("abc")
C能：大文字を返します。↑の例であれは、%s="ABC"です。

■VLBOUND
引数：VLBOUND(val)
例：%start=VLBOUND(%v)
C能：
配列涫において一番小さい添字を取得します。E造の配列でも正しく取得します。
↑の例で、%vの一番小さい添字が3で、例えば%v[3]="abc" %v[12]="def".... のようなとき、%start=3になります。
配列内容を全部仕鳏工毪韦恰あまり速度の速いv数ではありません。

■VLEN
引数：VLEN(val)
例：%vlen=VLEN(%v)
C能：
配列涫のLさを取得します。E造の配列ではうまくC能しません。
添え字0から始めて、最後につかった添字番号+1がLさになります。

■VUBOUND
引数：VUBOUND(val)
例：%end=VUBOUND(%v)
C能：
配列涫の一番大きい添え字を取得します。E造の配列でも正しく取得します。
配列内容を全部仕鳏工毪韦恰あまり速度の速いv数ではありません。

■ZENKAKU
引数：ZENKAKU(str)
例：%str=ZENKAKU("abc")
C能：
文字列を全角文字にQします。↑の例なら"ａｂｃ"になります。
ここで、BASICは内部的にはUTF-8を使っていることに注意してください。
外部ツ`ルとやりとりするときにはエンコ`ドのQが必要になることもあります。

＜ビットマップC能＞
ビットマップは「メインメモリ内に格{される」画像イメ`ジです。
レンダリングをビットマップにして行う命令や、ビットマップからテクスチャにQする命令はありますが、
基本的には、ビットマップはメインメモリの中で画像を加工したり保存したりするための命令?v数群です。

■BBEGIN
引数：BBEGIN bmpname
例：BBEGIN "scrbmp"
C能：
指定したビットマップにして描画を_始します。ビットマップは\の透明でクリアされます。
ビットマップは画面サイズと同じ大きさで事前に作成されている必要があります。

■BCREATE
引数：BCREATE bmpname,w,h
例：BCREATE "scrbmp",800,600
C能：
指定した名前、サイズで空白のビットマップを作成します。

■BDELETE
引数：BDELETE bmpname
例：BDELETE "scrbmp"
C能：
指定した名前のビットマップを削除します。

■BDUP
引数：BDUP new,old
例：BDUP "copybmp","sourcebmp"
C能：
指定したビットマップを}uして新しいビットマップを作ります。

■BEND
引数：BEND bmpname
例：BEND "scrbmp"
C能：
ビットマップへの描画をK了します。描画Y果はこの命令によってBMPに送されます。
この命令をg行しないと、ビットマップへの反映はされませんので注意してください。

■BFILL
引数：BFILL bmpname,color
例：BFILL "bmp",#FFFFFFFF
C能：
ビットマップを指定した色でTりつぶします。

■BFORMAT        param:SSTT     type:Lua
引数：BFORMAT bmpname,str,opt,rubyopt
例：
BFORMAT "scrbmp","あいうえおかきくけこ{h字/ルビ}さしすせそ",{font="text",x=2,y=2,w=25,h=4},{font="ruby"}
C能：
英Z文章のようにルビC能を使わない龊悉rubyoptは省略できます。
ビットマップに文字列をきzみます。optとrubyoptはSPFORMATと同じです。

■BFRECT
引数：BFRECT bmpname,x1,y1,x2,y2,color
例：
BFRECT "scrbmp",100,100,200,200,#FFFFFFFF
C能：
左上(x1,y1)右下(x2,y2)の中をTりつぶしたL方形をきます。

■BFROMT
引数：BFROMT bmpname,texname
例：BFROMT "bmp","tex"
C能：
指定したテクスチャの画像をコピ`したビットマップを作ります。

■BGETSIZE
引数：BGETSIZE bmpname,w,h
例：BGETSIZE "scrbmp",%w,%h
C能：
ビットマップの幅と高さを取得します。

■BGRADATION
引数：BGRADATION bmpname,color1,color2,flagx,flagy
例：
C能：
ビットマップをグラデ`ションでTりつぶします。
flagx,flagyはx方向y方向にグラデ`ションするかどうかのフラグです。
どちらか片方だけをtrueだとその方向にだけグラデ`ション、I方trueもしくはI方falseだと斜めグラデ`ションです（trueかfalseで方向は浃铯辘蓼梗

■BJOINX
引数：BJOINX bmpname,bmpname2
例：BJOINX "bmp","bmp2"
C能：
bmpnameの右にbmpname2をくっつけたものをbmpnameに作成します。

■BJOINY
引数：BJOINY bmpname,bmpname2
例：BJOINY "bmp","bmp2"
C能：
bmpnameの下にbmpname2をくっつけたものをbmpnameに作成します。

■BLOAD
引数：BLOAD bmpname,filename
例：BLOAD "scrbmp","testbg.png"
C能：
ビットマップを指定名のオブジェクトにロ`ドします。

■BMONOTONE
引数：BMONOTONE bmpname,color
例：BMONOTONE "scrbmp",#FFFF0000
C能：
指定した色を基{にビットマップをモノト`ンにQします。

■BNEGA
引数：BNEGA bmpname
例：BNEGA "scrbmp"
C能：
ビットマップをネガポジ反します。

■BRESIZE
引数：BRESIZE bmpname,w,h
例：BRESIZE "scrbmp",100,100
C能：
ビットマップを大s小してサイズを涓します。
スクリ`ンショットのリサイズなどに使います。

■BREVERSE
引数：BREVERSE bmpname,flagx,flagy
例：BREVERSE "scrbmp",1,0
C能：
ビットマップをXS方向もしくはYS方向もしくはI方反します。

■BSAVE
引数：BSAVE bmpname,savefilename
例：BSAVE "scrbmp","save.png"
C能：
ビットマップをPNGファイルとして保存します。
スクリ`ンショットの保存などに使います。

■BTRIM          param:SNNNN    type:Lua
引数：BTRIM bmpname,x1,y1,x2,y2
例：BTRIM "scrbmp",100,100,200,200
C能：
ビットマップの二つの座摔侵付à丹欷腩I域を切り取ってそこだけを取り出します。

【低水C能】
これら低水C能は高水C能でラップされていますので、普段はそちらを使えば大丈夫です。
eにかい{整をしたい龊悉摔长沥椁蚴工盲皮ださい。

＜低水圣单Ε螗C能＞
■SOUND
引数：SOUND sndname
例：SOUND "bgsound"
C能：
サウンドチャンネルを作成します。

■SPLAY
引数：SPLAY sndname,playtable
例：
SPLAY "bgsound",{name="test.ogg"}
SPLAY "bgsound",{name="test.ogg",loop=1}
SPLAY "bgsound",{name="test.ogg",volume=-100,loop=1}
SPLAY "bgsound",{name="test.ogg",volume=-100,pan=-10000}
C能：
サウンドを再生します。

■SDELETE
引数：SDELETE sndname
例：SDEKETE "bgsound"
C能：
サウンドチャンネルを削除します。音を止めるのではなく、チャンネルごと削除します。
（兢盲啤そのチャンネルはもう一度作り直さない限り使えなくなります）

■SFADEOUT
引数：SFADEOUT sndname,time
例：SFADEOUT "bgsound",1000
C能：
指定したrgを欷堡匹单Ε螗嗓颔榨З`ドアウトさせます。
高水C能のフェ`ドアウトは「フェ`ドアウトrgをO定する」ですが、こちらは「フェ`ドアウトを_始する」命令なので注意してください。

■SPAN
引数：SPAN sndname,pan
例：SPAN "bgsound",-10000
C能：
指定チャンネルをパン（左右に偏らせるI理）します。panは-10000（左）から10000（右）までです。

■SPAUSE
引数：SPAUSE sndname
例：SPAUSE "bgsound"
C能：
指定チャンネルを一r停止します。これは停止とはeのI理で、SRESUMEで再生再_することが出来ます。

■SRESUME
引数：SRESUME sndname
例：SRESUME "bgsound"
C能：
SPAUSEで止めた指定チャンネルの再生を再_します。

■SSTOP
引数：SSTOP sndname
例：SSTOP "bgsound"
C能：
指定したチャンネルの再生をK了します。音声ファイルはクロ`ズされますが、チャンネル自体は残っています。

■SVOLUME
引数：SVOLUME sndname,vol
例：SVOLUME "bgsound",-10000
C能：
指定したチャンネルのボリュ`ムを涓します。-10000でo音、0で最大です。
-1000くらいでg|こえなくなることも多いので、gHにやってみてしてください。

■SISPLAYING     param:S        type:Lua
引数：SISPLAYING(sndname)
例：%p=SISPLAYING("bgsound")
C能：
そのサウンドがまだ再生中なら1、再生がK了していれば0を返します。
ル`プ音声の龊悉铣￥1が返ることに注意してください。

＜描画C能＞
■GBEGIN
引数：なし
例：
GBEGIN
C能：
画面への描画を_始する。この命令とGEND命令のgで挟まれた描画命令の内容が画面に反映される。
高水拭杌C能（スプライトC能）は、内部でこの命令を呼び出している。

■SPDRAW
引数：SPDRAW
例）
SPDRAW
C能：
スプライト全てを描画します。これは低水拭杌命令と一wにスプライトを描画したいときに使います。

■GEND
引数：GEND
例：
GEND
C能：
描画をK了します。この命令をg行することで画面に描画Y果が反映されます。


＜テクスチャC能＞
■TBEGIN
引数：TBEGIN texname
例：
TBEGIN "scrtex"
C能：
テクスチャにし描画を_始します。

■TEND
引数：TEND
例：
TEND
C能：
テクスチャにする描画をK了します。

■TBEZIER
引数：TBEZIER texname,cx,cy,xs,ys,rot,a,x0,y0,x1,y1,x2,y2,x3,y3,sx0,sy0,sx1,sy1,sx2,sy2,sx3,sy3,sx4,sy4,sx5,sy5,sx6,sy6,sx7,sy7
C能：
テクスチャをベジエ湫韦筏票硎兢筏蓼埂Ｒ数の番はSPBEZIERと同じです。
回大s小を先に指定し、残りは0～1でSPBEZIERと同じように指定します。

■TDELETE
引数：TDELETE texname
例：
TDELETE "scrtex"
C能：
テクスチャを削除します。

■TDRAW
引数：TDRAW texname,x,y,a
例：
TDRAW "spaceship",100,100,255
C能：
テクスチャを画面に描画します。

■TDRAWLT
引数：TDRAWLT texname,cx,cy,xs,ys,rot,alpha
例：
TDRAWLT "spaceship",200,200,1.0,1.0,RAD(45),255
C能：
テクスチャを回大s小して描画します。

■TDRAWTR
引数：TDRAWTR name,v
例：
%v[0]=100
%v[1]=100
%v[2]=0
%v[3]=0
%v[4]=0xFFFFFFFF

%v[5]=200
%v[6]=200
%v[7]=1
%v[8]=1
%v[9]=0xFFFF00FF

%v[5]=100
%v[6]=200
%v[7]=0
%v[8]=1
%v[9]=0xFFFFFF00

TDRAWTR "testtex",%v
C能：
三角形の三点を指定し、そのポリゴンにテクスチャをり付けて描画します。
配列の要素は５つで一点です。(x,y,u,v,col)、点数は３の倍数になります（それぞれ三角形の点であるため）

■TFILL
引数：TFILL texname,color
例：TFILL "scrtex",0xFFFFFFFF
C能：
指定したテクスチャを指定した色でTりつぶします。

■TFORMAT
引数：TFORMAT name,str,opt,rubyopt
例：
TFORMAT "tex","あいうえおかきくけこ{h字/ルビ}さしすせそ",{font="text",x=2,y=2,w=25,h=4},{font="ruby"}
C能：
英Z文章のようにルビC能を使わない龊悉rubyoptは省略できます。
ビットマップに文字列をきzみます。optとrubyoptはSPFORMATと同じです。

■TFRECT
引数：TFRECT name,lx,ly,rx,ry,color
例：
TFRECT "tex",100,100,200,200,0xFFFFFFFF
C能：
テクスチャの指定欷蛑付ㄉでTりつぶします。

■TFROMB
引数：TFROMB texname,bmpname
例：TFROMB "tex","bmp"
C能：
ビットマップからテクスチャを作ります。

■TGETSIZE       param:SRR      type:Lua
引数：TGETSIZE texname,w,h
例：TGETSIZE "tex",%w,%h
C能：
テクスチャのサイズを得ます。

■TLOAD
引数：TLOAD texname,filename
例：TLOAD "tex","test.jpg"
C能：
テクスチャをロ`ドします。

■TSAVE
引数：TSAVE texname,filename
例：TSAVE "tex","savefile.png"
C能：
テクスチャをセ`ブします。ファイル形式はPNGのみです。

（v数）
■TISPLAYING
引数：TISPLAYING(texname)
例：%p=TISPLAYING("movtex")
C能：
ム`ビ`テクスチャ再生rに、ム`ビ`がまだ再生中なら1、停止していれば0を返します。

＜形状描画C能＞
■GBEZIER
引数：GBEZIER x1,y1,x2,y2,x3,y3,x4,y4,col
例：
GBEZIER 0,100,10,80,90,80,100,100,#FFFFFFFF
C能：
ベジエ曲を描画する。x1,y1が始点、x4,y4がK点、x2,y2が点1の制御点、x3,y3が点2の制御点です。

■GBLEND
引数：GBLEND num
例：
GBLEND 0
C能：
ブレンド描画モ`ドを切り替えます。0で通常のαブレンド、1で加算ブレンドです。
モ`ドは将来的にえる可能性があります。

■GCIRCLE
引数：GCIRCLE x,y,r,col
例：
GCIRCLE 100,100,35,#FFFFFFFF
C能：
窑きます。

■GELLIPSE
引数：GELLIPSE x1,y1,x2,y2,col
例：
GELLIPSE 100,100,200,200,#FFFFFFFF
C能：
左上(x1,y1)右下(x2,y2)のL方形に内接する窑きます。

■GFCIRCLE
引数：GFCIRCLE x,y,r,col
GFCIRCLE 100,100,35,#FFFFFFFF
C能：
中をTりつぶした窑きます。

■GFELLIPSE
引数：GFELLIPSE x1,y1,x2,y2,col
例：
GFELLIPSE 100,100,200,200,#FFFFFFFF
C能：
左上(x1,y1)右下(x2,y2)のL方形に内接する、中をTりつぶした窑きます。

■GRECT
引数：GRECT x1,y1,x2,y2,col
例：
GRECT 100,100,200,200,#FFFFFFFF
C能：
左上(x1,y1)右下(x2,y2)のL方形をきます。

■GFRECT
引数：GFRECT x1,y1,x2,y2,col
例：
GFRECT 100,100,200,200,#FFFFFFFF
C能：
左上(x1,y1)右下(x2,y2)の中をTりつぶしたL方形をきます。

■GLINE
引数：GLINE x1,y1,x2,y2,col
例：
GLINE 100,100,200,200,#FFFFFFFF
C能：
x1,y1とx2,y2をYぶ直を描画します。

■GLINES
引数：GLINES array,col
例：
a[0]=100
a[1]=100
a[2]=200
a[3]=200
a[4]=300
a[5]=300
GLINES a,#FFFFFFFF
C能：
折れを描画します。座摔吓淞肖侵付à筏蓼埂

■GLINEL
引数：GLINEL array,col
例：
a[0]=100
a[1]=100
a[2]=200
a[3]=200
a[4]=300
a[5]=300
a[6]=300
a[7]=300
GLINEL a,#FFFFFFFF
C能：
直のリストを描画します。座摔吓淞肖侵付à筏蓼埂Ｊ嫉-K点のペアで指定しますので、４つ一Mです。

■GPOINT
引数：GPOINT x,y,col
例：
GPOINT 125,125,#FFFFFFFF
C能：
点を描画します。

■GPOINTL
引数：GPOINTL array,col
例：
a[0]=100
a[1]=100
a[2]=200
a[3]=200
GPOINTL a,#FFFFFFFF
C能：
点のリストを描画します。座摔吓淞肖侵付à筏蓼埂

■GTRIANGLE
引数：GTRIANGLE x1,y1,x2,y2,x3,y3,col
例：
GTRIANGLE 100,100,200,200,300,100,#FFFFFFFF
C能：
Tりつぶされた三角形を描画します。

■GTRIANGLEL
引数：GTRIANGLEL array,col
例：
a[0]=100
a[1]=100
a[2]=200
a[3]=200
a[4]=300
a[5]=100
a[6]=400
a[7]=100
a[8]=500
a[9]=200
a[10]=600
a[11]=100
GTRIANGLEL a,#FFFFFFFF
C能：
Tりつぶされた三角形のリストを描画します。
それぞれ３点のセットです。

■GTRIANGLEF
引数：GTRIANGLEF array,col
例：
a[0]=100
a[1]=100
a[2]=200
a[3]=200
a[4]=300
a[5]=100
a[6]=0
a[7]=0
GTRIANGLEF a,#FFFFFFFF
C能：
Tりつぶされた三角形をYんで作るファン（扇形）を描画します。
最初の点が中心点、後の点はファンの点です。

■GTRIANGLES
引数：GTRIANGLES array,col
例：
a[0]=100
a[1]=100
a[2]=200
a[3]=200
a[4]=300
a[5]=200
a[6]=0
GTRIANGLES a,#FFFFFFFF
C能：
トライアングルストリップを描画します。

＜トランジションC能＞
■TRANSITION     param:SSNS*    type:Lua
引数：TRANSITION frombmpname,tobmpname,rate,type,opt,...
例：
TRANSITON "from","to",0.7,#F
C能：
二つのビットマップと、トランジションのM行率rate(0で完全にfrom,1で完全にto)を用いて、トランジションの途中の画像を描画します。

＜割りzみI理＞
■TRAP
引数：TRAP label,trigger
例：
TRAP @logo_end
TRAP @logo_end,"L"
TRAP @logo_end,"LR"
TRAP @logo_end,"LRS"
TRAP @logo_end,"LRSE"
TRAP #NIL
C能：
I理をしているHにクリックやキ`入力があったときにI理に割りzんでそのラベルにGOTOジャンプします。
いくつかのスクリプトで成されたブランドロゴなどをクリックでwばしたいときに使ってください。
ラベル名に#NILを指定すると割りzみが解除されます。解除しない限りずっと有郡胜韦恰⒈丐航獬してください。
二つめの引数は何をトリガにして割りzみをk生させるかを指定します。省略すると"LRSE"になります。
L=左クリック R=右クリック S=スペ`スキ` E=リタ`ンキ`
